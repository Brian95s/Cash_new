<!DOCTYPE html><html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cash New - Inversión Segura</title>
    <style>
        body { font-family: Arial, sans-serif; background-color: #f0f8ff; color: #333; text-align: center; }
        .container { max-width: 600px; margin: auto; padding: 20px; background: white; border-radius: 10px; box-shadow: 0 0 10px gray; }
        button { background-color: #007bff; color: white; padding: 10px; border: none; border-radius: 5px; cursor: pointer; }
        input, select { width: 100%; padding: 8px; margin: 10px 0; }
        .history { margin-top: 20px; }
        .history table { width: 100%; border-collapse: collapse; }
        .history th, .history td { border: 1px solid #ddd; padding: 8px; text-align: center; }
        .status-completed { color: green; }
        .status-pending { color: orange; }
        .status-rejected { color: red; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Cash New - Inversión Segura</h1><h2>Registrar Retiro</h2>
    <input type="number" id="cantidadRetiro" placeholder="Cantidad">
    <select id="metodoRetiro" onchange="cambiarMetodoRetiro()">
        <option value="ARS">Pesos Argentinos (ARS)</option>
        <option value="USDT (BEP20)">USDT (BEP20)</option>
        <option value="USDT (TRC20)">USDT (TRC20)</option>
    </select>
    
    <div id="retiroARS">
        <input type="text" id="cbu" placeholder="CBU">
        <input type="text" id="banco" placeholder="Banco/Billetera">
        <input type="text" id="titular" placeholder="Titular">
        <input type="text" id="dni" placeholder="DNI">
    </div>
    
    <div id="retiroUSDT" style="display: none;">
        <input type="text" id="direccionUSDT" placeholder="Dirección USDT">
    </div>
    
    <button onclick="registrarRetiro()">Solicitar Retiro</button>
    
    <h2>Historial de Retiros</h2>
    <div class="history">
        <table>
            <thead>
                <tr>
                    <th>Cantidad</th>
                    <th>Método</th>
                    <th>Fecha</th>
                    <th>Estado</th>
                </tr>
            </thead>
            <tbody id="historialRetiros"></tbody>
        </table>
    </div>
</div>

<script>
    let retiros = [];
    
    function cambiarMetodoRetiro() {
        let metodo = document.getElementById("metodoRetiro").value;
        document.getElementById("retiroARS").style.display = metodo === "ARS" ? "block" : "none";
        document.getElementById("retiroUSDT").style.display = metodo.includes("USDT") ? "block" : "none";
    }
    
    function registrarRetiro() {
        let cantidad = document.getElementById("cantidadRetiro").value;
        let metodo = document.getElementById("metodoRetiro").value;
        if (!cantidad || cantidad <= 0) {
            alert("Ingrese una cantidad válida");
            return;
        }
        let fecha = new Date().toISOString().split('T')[0]; // Fecha actual
        let estado = "pendiente"; // Estado inicial
        
        if (retiros.length >= 12) {
            retiros.shift(); // Elimina el más antiguo
        }
        retiros.push({ cantidad, metodo, fecha, estado });
        actualizarHistorialRetiros();
    }
    
    function actualizarHistorialRetiros() {
        const historial = document.getElementById("historialRetiros");
        historial.innerHTML = "";
        retiros.forEach(ret => {
            let estadoColor = ret.estado === "completo" ? "status-completed" : ret.estado === "pendiente" ? "status-pending" : "status-rejected";
            historial.innerHTML += `<tr>
                <td>${ret.cantidad}</td>
                <td>${ret.metodo}</td>
                <td>${ret.fecha}</td>
                <td class="${estadoColor}">● ${ret.estado}</td>
            </tr>`;
        });
    }
</script>

</body>
</html>